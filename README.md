# DipGonc

## 项目简介

 DipGonc是一个实现手机与DiPlus车机软件之间通过Gonc直接 P2P（点对点）通信的项目。本项目旨在建立手机与车机之间的直接通信链路，避免依赖中转服务器，实现直接查看Diplus哨兵录像的能力。

## 网络背景与挑战

### 网络环境分析
- **BYD 车机网络**：大多数是移动卡，为 NAT4 类型且不支持 IPv6。有部分车机使用联通卡，有IPV6。
- **手机网络**：多数为 NAT4 类型，但通常支持 IPv6
- **P2P 连接限制**：当两端均为 NAT4 时无法实现直接穿透

### NAT 类型兼容性
| 发起方 NAT 类型 | 接收方 NAT 类型 | 连接可能性 |
|----------------|----------------|-----------|
| NAT1           | NAT4           | ✅ 可连接   |
| NAT4           | NAT1           | ✅ 可连接   |
| NAT4 + IPv6    | NAT4 + IPv6    | ✅ 可连接   |
| NAT4           | NAT4           | ❌ 不可连接 |

## 解决方案

### 方案一：车机使用 USB 随身WiFi（推荐）
**适用场景**：车机USB口插随身WIFI，可选择有IPV6的随身WIFI，可实现直连
**注意事项**：USB随身WIFI一般发热巨大，有烧车机或USB口的风险，建议选择电流需求小的方案，另外建议用一根短USB延长线引出来防止USB口过热。

### 方案二：手机连接家宽 NAT1 网络
**适用场景**：手机通过家庭宽带网络连接

**实施步骤**：
1. 将家庭宽带路由器调整为 NAT1（全锥型 NAT）模式
2. 手机连接该家庭 WiFi 网络
3. 通过 NAT1 特性实现与车机的 P2P 穿透

**注意事项**：
- 需要路由器支持 NAT1 模式
- 可能需要改光猫配置
